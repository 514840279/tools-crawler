var d=Object.defineProperty,_=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var h=(e,a,t)=>a in e?d(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,u=(e,a)=>{for(var t in a||(a={}))R.call(a,t)&&h(e,t,a[t]);if(S)for(var t of S(a))E.call(a,t)&&h(e,t,a[t]);return e},s=(e,a)=>_(e,m(a));var C=(e,a,t)=>(h(e,typeof a!="symbol"?a+"":a,t),t);import{s as g,E as O}from"./index.71db2500.js";var n=(e=>(e[e.SUCCESS=200]="SUCCESS",e[e.ERROR_1=-1]="ERROR_1",e[e.IO_EXCEPTION=-2]="IO_EXCEPTION",e[e.NO_LOG=-10]="NO_LOG",e[e.NO_ACCESS=-11]="NO_ACCESS",e[e.ERROR_100=-100]="ERROR_100",e[e.ERROR_404=404]="ERROR_404",e[e.ERROR_503=503]="ERROR_503",e))(n||{});class l{constructor(a){C(this,"instance");this.instance=g.create(a),this.instance.defaults.headers.post["Content-Type"]="application/json",this.instance.defaults.headers.put["Content-Type"]="application/json",this.instance.interceptors.request.use(t=>t,t=>Promise.reject(t)),this.instance.interceptors.response.use(t=>{if(t.status==n.SUCCESS)switch(t.data.code){case n.ERROR_1:O({message:t.data.msg,type:"warning"});return;case n.SUCCESS:default:return t}else{debugger;O({message:"\u672A\u77E5",type:"error"})}},t=>(O({message:t,type:"error"}),Promise.reject(t)))}request(a){return new Promise((t,i)=>{this.instance.request(a).then(c=>{t(c.data)}).catch(c=>(i(c),c))})}get(a,t,i){return this.request(s(u({},i),{url:a,data:t,method:"GET"}))}post(a,t,i){return this.request(s(u({},i),{url:a,data:t,method:"POST"}))}delete(a,t,i){return this.request(s(u({},i),{url:a,data:t,method:"DELETE"}))}patch(a,t,i){return this.request(s(u({},i),{url:a,data:t,method:"PATCH"}))}}const r=new l({timeout:225e3});export{r as h};
