import{h as b}from"./http.71049161.js";import{d as k,r as h,b as u,o as l,c as a,e as n,w as _,u as s,k as c,F as p,f as v,t as f,h as w}from"./index.1c2623fa.js";const x=w("\u786E\u5B9A"),E=c("h1",null,"\u5173\u7CFB",-1),V=c("h1",null,"\u8282\u70B9",-1),D=c("div",{id:"container"},null,-1),L=k({name:"Index",setup(F){let o=h({companyName:"\u5317\u4EAC\u78D0\u77F3\u5982\u91D1\u6295\u8D44\u7BA1\u7406\u6709\u9650\u516C\u53F8",level:5}),i=h([]);function y(){b.post("/repl/chart",o.value).then(t=>{t.data!=null&&t.code==200&&(i.value=t.data,C(t.data))}).catch(t=>{})}function C(t){Highcharts.chart("container",{chart:{height:2200,inverted:!0},title:{text:o.value.companyName+" \u7EC4\u7EC7\u7ED3\u6784"},series:[{type:"organization",name:o.value.companyName,keys:["from","to"],data:t.data,levels:[{level:0,color:"silver",height:25},{level:1,color:"silver",height:25},{level:2,color:"silver"},{level:3,color:"silver"},{level:4,color:"silver"},{level:5,color:"silver"}],nodes:t.nodes,colorByPoint:!1,color:"#007ad0",dataLabels:{color:"white"},borderColor:"white",nodeWidth:300}],tooltip:{outside:!0},exporting:{allowHTML:!0,sourceWidth:1200,sourceHeight:1200}})}return(t,r)=>{const m=u("el-col"),g=u("el-row"),B=u("el-input"),N=u("el-button");return l(),a(p,null,[n(g,null,{default:_(()=>[n(m,{span:12}),n(m,{span:12})]),_:1}),n(B,{modelValue:s(o).companyName,"onUpdate:modelValue":r[0]||(r[0]=e=>s(o).companyName=e),placeholder:"Please input"},null,8,["modelValue"]),n(N,{type:"primary",onClick:r[1]||(r[1]=e=>y())},{default:_(()=>[x]),_:1}),c("div",null,[E,(l(!0),a(p,null,v(s(i).data,(e,d)=>(l(),a("p",{key:d},f(e[0]+"->"+e[1]),1))),128)),V,(l(!0),a(p,null,v(s(i).nodes,(e,d)=>(l(),a("p",{key:d},f(e.id+(e.creditCode==null?"":"("+e.creditCode+")")+":"+e.subscribedAmount),1))),128))]),D],64)}}});export{L as default};
